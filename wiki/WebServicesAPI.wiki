#summary Web Services API.
#labels Phase-Design,Phase-Implementation,Not-Implemented

= Web Services API =

== Important Considerations ==

 # All returns are JSON.
 # The default return is an associative array containing the error code and msg. If the error code is equal to 0 (zero) there is no errors.
 # Arguments marked with `*` are optional.
 
== Concepts ==

 * Instanced object
 * Collection:
 * Method 


A string followed by / (slash) in an URL represents object members (method or object) and followed by . (dot) represents collection members.

ie:

 * *modify* is a method of an instanced object scanner:
{{{
/scanner/[name]/modify
}}}

 * *add* is a method of the collection of scanners:
{{{
/scanner.add
}}}

== Services ==

=== Scanner ===

{{{
URL: /scanner
Args: None
Method: GET, POST
Returns: Collection containing all scanner objects.
}}}

{{{
URL: /scanner.add
Args: name*, localization, description, manufactor*, model*, papersize, isindexable, user, group
Method: POST
Returns: Scanner object.
}}}

{{{
URL: /scanner/[name]
Args: None
Method: GET, POST
Returns: Scanner object.
}}}

{{{
URL: /scanner/[name]/modify
Args: name, localization, description, manufactor, model, papersize, isindexable, user, group
Method: POST
Returns: Scanner object.
}}}

{{{
URL: /scanner/[name]/delete
Args: None
Method: DELETE
Returns: Default
}}}

{{{
URL: /scanner/[name]/test
Args: None
Method: GET, POST
Returns: Default
}}}

{{{
URL: /scanner/[name]/scan
Args: None
Method: GET, POST
Return: Page object.
}}}

=== User ===

{{{
URL: /user
Args: None
Method: GET, POST
Returns: Collection containing all user objects.
}}}

{{{
URL: /user.add
Args: username, password, role
Method: POST
Returns: User object.
}}}

{{{
URL: /user/[username]
Args: None
Method: GET, POST
Returns: User object.
}}}

{{{
URL: /user/[username]/modify
Args: username, password, role
Method: POST
Returns: User object.
}}}

{{{
URL: /user/[username]/delete
Args: None
Method: DELETE
Returns: Default
}}}

{{{
URL: /user/[username]/pages
Args: None
Method: GET, POST
Returns: Collection of page objects.
}}}

{{{
URL: /user/[username]/document
Args: None
Method: GET, POST
Return: Collection of document objects.
}}}

{{{
URL: /user/[username]/document.create
Args: docname, docdescript, pages (list of page ids)
Method: GET, POST
Return: Document object.
}}}

{{{
URL: /user/[username]/document/[docname]
Args: None
Method: GET, POST
Return: Downloadable PDF document.
}}}

=== Auth ===

{{{
URL: /auth/signin
Args: username, password
Method: POST
Returns: Default
}}}

{{{
URL: /auth/signout
Args: None
Method: GET, POST
Returns: Default
}}}